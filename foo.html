<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Weather</title>
<style>
  body {
    margin: 0;
    padding: 0;
    width: 400px;
    height: 300px;
    font-family: sans-serif;
    background: #ffffff;
    color: #000000;
  }

  #container {
    padding: 8px;
    box-sizing: border-box;
    width: 100%;
    height: 100%;
  }

  #location {
    font-size: 26px;
    font-weight: bold;
    margin-bottom: 2px;
  }

  #temp {
    font-size: 60px;
    font-weight: bold;
    margin: 0;
    line-height: 1;
  }

  #desc {
    font-size: 20px;
    margin: 2px 0 8px 0;
    text-transform: capitalize;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    font-size: 16px;
    margin-top: 4px;
  }

  td {
    padding: 2px 0;
  }

  .key {
    width: 100px;
    text-align: left;
  }

  .val {
    text-align: right;
    font-weight: bold;
  }

  #footer {
    font-size: 12px;
    margin-top: 4px;
    text-align: center;
  }
</style>
</head>

<body>
<div id="container">

  <div id="location">—</div>
  <div id="temp">--°C</div>
  <div id="desc">loading...</div>

  <table>
    <tr><td class="key">Feels:</td><td class="val" id="feels">--°C</td></tr>
    <tr><td class="key">Humidity:</td><td class="val" id="humidity">--%</td></tr>
    <tr><td class="key">Wind:</td><td class="val" id="wind">-- m/s</td></tr>
    <tr><td class="key">Clouds:</td><td class="val" id="clouds">--%</td></tr>
    <tr><td class="key">Pressure:</td><td class="val" id="pressure">-- hPa</td></tr>
  </table>

  <div id="footer">Updated: --</div>

</div>

<script id="weather-data" type="application/json">
  {
  "coord": {"lon":10.99,"lat":44.34},
  "weather":[{"id":803,"main":"Clouds","description":"broken clouds","icon":"04n"}],
  "base":"stations",
  "main":{"temp":281.29,"feels_like":279.63,"pressure":1024,"humidity":95},
  "wind":{"speed":2.69,"deg":202,"gust":3.51},
  "clouds":{"all":78},
  "dt":1763077522,
  "sys":{"country":"IT"},
  "name":"Zocca"
  }
</script>

<script>
(function () {
  var raw = document.getElementById("weather-data").textContent.trim();
  if (!raw) return;

  var data = JSON.parse(raw);

  function c(id) { return document.getElementById(id); }
  function toC(k) { return Math.round(k - 273.15); }

  c("location").textContent = data.name + ", " + data.sys.country;
  c("temp").textContent = toC(data.main.temp) + "°C";
  c("desc").textContent = data.weather[0].description;

  c("feels").textContent = toC(data.main.feels_like) + "°C";
  c("humidity").textContent = data.main.humidity + "%";
  c("wind").textContent  = data.wind.speed.toFixed(1) + " m/s";
  c("clouds").textContent = data.clouds.all + "%";
  c("pressure").textContent = data.main.pressure + " hPa";

  var ts = new Date(data.dt * 1000).toLocaleString();
  c("footer").textContent = "Updated: " + ts;
})();
</script>

</body>
</html>
